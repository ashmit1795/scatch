<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg text-center">
        <h3 class="text-lg font-semibold mb-4">Are you sure you want to delete this product?</h3>
        <form id="deleteForm" method="POST">
            <div class="flex justify-center gap-4">
                <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">Delete</button>
                <button type="button" onclick="closeDeleteModal()" class="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700">Cancel</button>
            </div>
        </form>
    </div>
</div>


<script>
    let deleteForm = document.getElementById('deleteForm');

    function openDeleteModal(productId) {
        deleteForm.action = `/app/product/delete/${productId}`;
        document.getElementById('deleteModal').classList.remove('hidden');
    }

    function closeDeleteModal() {
        document.getElementById('deleteModal').classList.add('hidden');
    }

    // Flash Message Timeout
    setTimeout(function() {
        const flashSuccess = document.getElementById('flash-success');
        const flashError = document.getElementById('flash-error');
        if(flashSuccess) {
            flashSuccess.style.display = 'none';
        }
        if(flashError) {
            flashError.style.display = 'none';
        }
    }, 3000);

    // Toggle Password Visibility
    document.getElementById("togglePassword").addEventListener("click", function () {
        const passwordField = document.getElementById("password");
        const passwordFieldType = passwordField.type === "password" ? "text" : "password";
        passwordField.type = passwordFieldType;

        // Toggle the icon
        this.innerHTML = passwordFieldType === "password" ? '<i class="ri-eye-line"></i>' : '<i class="ri-eye-off-line"></i>';
    });

    // Mobile Menu Toggle Logic
    const toggleMenu = document.getElementById("toggleMenu");
    const closeMenu = document.getElementById("closeMenu");
    const mobileMenu = document.getElementById("mobileMenu");

    if (toggleMenu && mobileMenu) {
        toggleMenu.addEventListener("click", () => {
            mobileMenu.classList.remove("hidden");
        });

        closeMenu.addEventListener("click", () => {
            mobileMenu.classList.add("hidden");
        });
    }
</script>
</body>

</html>